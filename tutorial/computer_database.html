

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Computer Database &mdash; Creamy 0.1 documentation</title>
    
    <link rel="stylesheet" href="../static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="Creamy 0.1 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Creamy 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Computer Database</a><ul>
<li><a class="reference internal" href="#overview">OverView</a></li>
<li><a class="reference internal" href="#javafx">JavaFX開発環境をセットアップする</a></li>
<li><a class="reference internal" href="#creamy">Creamyプロジェクトの作成</a></li>
<li><a class="reference internal" href="#id1">ユーザーのエントリークラス</a><ul>
<li><a class="reference internal" href="#computerdatabase-java">ComputerDatabase.java</a></li>
</ul>
</li>
<li><a class="reference internal" href="#controller">Controllerの書き方</a><ul>
<li><a class="reference internal" href="#application-java">Application.java</a></li>
</ul>
</li>
<li><a class="reference internal" href="#view">Viewの書き方</a><ul>
<li><a class="reference internal" href="#main-java">Main.java</a></li>
<li><a class="reference internal" href="#main-vm-fxml">Main.vm.fxml</a></li>
<li><a class="reference internal" href="#create-java">Create.java</a></li>
<li><a class="reference internal" href="#list-java">List.java</a></li>
<li><a class="reference internal" href="#list-vm-fxml">List.vm.fxml</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model">Modelの書き方</a><ul>
<li><a class="reference internal" href="#computer-java">Computer.java</a></li>
</ul>
</li>
<li><a class="reference internal" href="#download">Download</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../sources/tutorial/computer_database.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="computer-database">
<h1>Computer Database<a class="headerlink" href="#computer-database" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>OverView<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Computer Databaseは、コンピュータ販売会社、その販売会社が販売しているコンピュータを管理するデスクトップアプリケーションです。
アプリケーションのイメージは以下のようになります。</p>
<img alt="../images/computer-database-overview.jpg" src="../images/computer-database-overview.jpg" />
</div>
<div class="section" id="javafx">
<h2>JavaFX開発環境をセットアップする<a class="headerlink" href="#javafx" title="Permalink to this headline">¶</a></h2>
<p>以下の３つのものをインストールしてください。</p>
<ol class="arabic simple">
<li>JavaFX SDK をインストールする。</li>
<li>NetBeansをインストールする。</li>
<li>JavaFX Scene Builderをインストールする</li>
</ol>
<p>くわしい方法は <a class="reference internal" href="../getting_start/set_up.html"><em>JavaFX開発環境をセットアップする</em></a> に書かれています。</p>
</div>
<div class="section" id="creamy">
<h2>Creamyプロジェクトの作成<a class="headerlink" href="#creamy" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><dl class="first docutils">
<dt>NetBeansプロジェクトの新規作成。</dt>
<dd><p class="first last">新規プロジェクトダイアログにて、プロジェクトにJavaFXアプリケーションを選択します。</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Creamyのインストール</dt>
<dd><p class="first last">ダウンロードした圧縮ファイルを、任意のディレクトリに解凍して配置します。</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>環境変数(Path)への追加</dt>
<dd><p class="first last">Creamyを配置した、場所へのPATHを通します。</p>
</dd>
</dl>
</li>
<li><p class="first">コマンドライン操作(bat、shell)によるCreamyプロジェクトに必要なファイルの生成</p>
</li>
</ol>
<div class="highlight-shell"><pre>creamy_tools new</pre>
</div>
<p>くわしい方法は <a class="reference internal" href="../getting_start/create_creamy_project.html"><em>Creamyプロジェクトの作成</em></a> に書かれています。</p>
</div>
<div class="section" id="id1">
<h2>ユーザーのエントリークラス<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>このクラスは、ユーザがNetBeansでJavaFXプロジェクトを作成した際に作成されるクラスを、
creamy.entrypoint.CreamyAppクラスを継承して作成します。</p>
<div class="section" id="computerdatabase-java">
<h3>ComputerDatabase.java<a class="headerlink" href="#computerdatabase-java" title="Permalink to this headline">¶</a></h3>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">package</span> <span class="n">computerdatabase</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">creamy.browser.TabBrowser</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">creamy.browser.control.DefaultBrowserMenuBar</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">creamy.browser.control.DefaultHeader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">creamy.entrypoint.CreamyApp</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.stage.Stage</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ComputerDatabase</span> <span class="kd">extends</span> <span class="n">CreamyApp</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">launch</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">start</span><span class="o">(</span><span class="n">Stage</span> <span class="n">primaryStage</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">TabBrowser</span> <span class="n">browser</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TabBrowser</span><span class="o">(</span><span class="s">&quot;/Application/index&quot;</span><span class="o">);</span>
        <span class="n">browser</span><span class="o">.</span><span class="na">setMenuBar</span><span class="o">(</span><span class="k">new</span> <span class="n">DefaultBrowserMenuBar</span><span class="o">());</span>
        <span class="n">browser</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="k">new</span> <span class="n">DefaultHeader</span><span class="o">());</span>
        <span class="n">primaryStage</span><span class="o">.</span><span class="na">setScene</span><span class="o">(</span><span class="n">browser</span><span class="o">);</span>
        <span class="n">primaryStage</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Creamyでは、BrowserというCreamy独自のクラスを利用しています。</p>
<p>Browserは、Webアプリケーションのように、Requestを送り、Responseを受け取り、その結果を表示させるためのCreamyにとっては重要なクラスです。</p>
<p>上記コードの17行目から19行目で、Browserのファミリーである、TabBrowserを作成しています。</p>
<p>詳しくは、<a class="reference internal" href="../basic_concept/browser.html"><em>Browser</em></a> を参照してください。</p>
</div>
</div>
<div class="section" id="controller">
<h2>Controllerの書き方<a class="headerlink" href="#controller" title="Permalink to this headline">¶</a></h2>
<p>CreamyのControllerのクラスはcreamy.mvc.Controllerクラスを継承する必要があります。</p>
<div class="section" id="application-java">
<h3>Application.java<a class="headerlink" href="#application-java" title="Permalink to this headline">¶</a></h3>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Application</span> <span class="kd">extends</span> <span class="n">Controller</span> <span class="o">{</span>
</pre></div>
</div>
<p>Controller内の各メソッドの戻り値は、creamy.mvc.Resultにする必要があります。</p>
<p>Creamyでは、パスで実行されるメソッドが決定されるので、それに即したメソッド名、引数で実装される必要があります。</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">//リクエストのパスは　/Aplication/list/:page/:sortBy/:order/:filter</span>
<span class="kd">public</span> <span class="n">Result</span> <span class="nf">list</span><span class="o">(</span><span class="kt">int</span> <span class="n">page</span><span class="o">,</span> <span class="n">String</span> <span class="n">sortBy</span><span class="o">,</span> <span class="n">String</span> <span class="n">order</span><span class="o">,</span> <span class="nd">@Bind</span><span class="o">(</span><span class="n">key</span><span class="o">=</span><span class="s">&quot;filter&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">filter</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">sortBy</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">sortBy</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">order</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">order</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">query</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">filter</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="s">&quot;&quot;</span> <span class="o">:</span> <span class="n">filter</span><span class="o">);</span>
    <span class="n">listComputer</span> <span class="o">=</span> <span class="n">Computer</span><span class="o">.</span><span class="na">page</span><span class="o">(</span><span class="n">page</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="n">sortBy</span><span class="o">,</span> <span class="n">order</span><span class="o">,</span> <span class="n">query</span><span class="o">.</span><span class="na">get</span><span class="o">());</span>
    <span class="k">return</span> <span class="nf">ok</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p>詳しくは、<a class="reference internal" href="../development/controllers.html"><em>Controllers</em></a> を参照してください。</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="n">Result</span> <span class="nf">list</span><span class="o">(</span><span class="kt">int</span> <span class="n">page</span><span class="o">,</span> <span class="n">String</span> <span class="n">sortBy</span><span class="o">,</span> <span class="n">String</span> <span class="n">order</span><span class="o">,</span> <span class="nd">@Bind</span><span class="o">(</span><span class="n">key</span><span class="o">=</span><span class="s">&quot;filter&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">filter</span><span class="o">)</span> <span class="o">{</span>
</pre></div>
</div>
<p>listメソッドの引数にある「&#64;Bind(key=&#8221;filter&#8221;)」は、ビューからコントローラを呼び出す際にForm等を利用して、引き渡されたパラメータを取得する為のものです。</p>
<p>ここでは、「filter」というパラメータを取得する事ができます。</p>
<p>詳しくは、<a class="reference internal" href="../development/parameter_binding.html"><em>パラメータバインディング</em></a> を参照してください。</p>
</div>
</div>
<div class="section" id="view">
<h2>Viewの書き方<a class="headerlink" href="#view" title="Permalink to this headline">¶</a></h2>
<p>CreamyのViewでは、javaクラスとそのクラス名と同じfxmlファイルが必要です。</p>
<p>Creamyでは、クラス名.vm.fxmlという名前で作成します。</p>
<p>理由は、Creamyでは、fxmlのコード解析だけではなく、Velocityでの構文も解析しているため、独自にvm.fxmlをいう拡張子を使用します。</p>
<p>Viewのクラスでは、creamy.activity.AvailableActivityクラスを継承する必要があります。</p>
<p>これは、Webでいう、javaScriptのような機能を提供しています。</p>
<p>詳しくは、<a class="reference internal" href="../development/views.html"><em>Views</em></a> を参照してください。</p>
<div class="section" id="main-java">
<h3>Main.java<a class="headerlink" href="#main-java" title="Permalink to this headline">¶</a></h3>
<p>このMainクラスは、各Viewの大枠となるViewを作り出すクラスです。
この大枠のクラスを元に、Viewを作成したい場合は、クラス名にアノテーションで&#64;Template(クラス名)とする事で、指定したクラスを大枠としたViewを作成します。</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nd">@Template</span><span class="o">(</span><span class="n">Main</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Create</span> <span class="kd">extends</span> <span class="n">AvailableActivity</span> <span class="o">{</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">package</span> <span class="n">views</span><span class="o">.</span><span class="na">application</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">creamy.activity.AvailableActivity</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="kd">extends</span> <span class="n">AvailableActivity</span> <span class="o">{</span>

<span class="o">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="main-vm-fxml">
<h3>Main.vm.fxml<a class="headerlink" href="#main-vm-fxml" title="Permalink to this headline">¶</a></h3>
<p>Main.vm.fxmlの35行目の「&lt;!&#8211;% #body &#8211;&gt;」の部分に、&#64;Template(Main.class)のアノテーションをつけたクラスが挿入されます。</p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

<span class="cp">&lt;?import java.lang.*?&gt;</span>
<span class="cp">&lt;?import java.net.*?&gt;</span>
<span class="cp">&lt;?import java.util.*?&gt;</span>
<span class="cp">&lt;?import javafx.geometry.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.control.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.layout.*?&gt;</span>
<span class="cp">&lt;?import creamy.scene.control.*?&gt;</span>
<span class="cp">&lt;?import creamy.scene.layout.*?&gt;</span>

<span class="nt">&lt;AnchorPane</span> <span class="na">prefHeight=</span><span class="s">&quot;704.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;1024.0&quot;</span> <span class="na">xmlns:fx=</span><span class="s">&quot;http://javafx.com/fxml&quot;</span> <span class="na">fx:controller=</span><span class="s">&quot;views.application.Main&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fx:define&gt;</span>
    <span class="nt">&lt;String</span> <span class="na">fx:id=</span><span class="s">&quot;title&quot;</span> <span class="na">fx:value=</span><span class="s">&quot;Creamy&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/fx:define&gt;</span>
  <span class="nt">&lt;children&gt;</span>
    <span class="nt">&lt;BorderPane</span> <span class="na">id=</span><span class="s">&quot;borderPane&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;704.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;1024.0&quot;</span> <span class="na">AnchorPane.bottomAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.leftAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.rightAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.topAnchor=</span><span class="s">&quot;0.0&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;top&gt;</span>
        <span class="nt">&lt;AnchorPane</span> <span class="na">id=</span><span class="s">&quot;header&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;45.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;1024.0&quot;</span> <span class="na">BorderPane.alignment=</span><span class="s">&quot;CENTER&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;children&gt;</span>
            <span class="nt">&lt;CFHyperlink</span> <span class="na">id=</span><span class="s">&quot;home&quot;</span> <span class="na">layoutX=</span><span class="s">&quot;15.0&quot;</span> <span class="na">layoutY=</span><span class="s">&quot;15.0&quot;</span> <span class="na">text=</span><span class="s">&quot;Creamy Framework sample application - Computer database&quot;</span> <span class="na">path=</span><span class="s">&quot;/Application/list/0/name/asc/&quot;</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/children&gt;</span>
          <span class="nt">&lt;padding&gt;</span>
            <span class="nt">&lt;Insets</span> <span class="na">bottom=</span><span class="s">&quot;10.0&quot;</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/padding&gt;</span>
          <span class="nt">&lt;BorderPane.margin&gt;</span>
            <span class="nt">&lt;Insets</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/BorderPane.margin&gt;</span>
        <span class="nt">&lt;/AnchorPane&gt;</span>
      <span class="nt">&lt;/top&gt;</span>
      <span class="nt">&lt;center&gt;</span>
        <span class="nt">&lt;StackPane&gt;</span>
          <span class="nt">&lt;children&gt;</span>
            <span class="c">&lt;!--% #body --&gt;</span>　//この部分に@Templateを指定したクラスが描画されます。
          <span class="nt">&lt;/children&gt;</span>
          <span class="nt">&lt;padding&gt;</span>
            <span class="nt">&lt;Insets</span> <span class="na">left=</span><span class="s">&quot;30.0&quot;</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/padding&gt;</span>
        <span class="nt">&lt;/StackPane&gt;</span>
      <span class="nt">&lt;/center&gt;</span>
    <span class="nt">&lt;/BorderPane&gt;</span>
  <span class="nt">&lt;/children&gt;</span>
<span class="nt">&lt;/AnchorPane&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="create-java">
<h3>Create.java<a class="headerlink" href="#create-java" title="Permalink to this headline">¶</a></h3>
<p>Viewでは、大枠にするクラス以外は、「initialize()」メソッド内に表示すべきロジックを記述してください。</p>
<div class="highlight-java"><div class="highlight"><pre><span class="nd">@Template</span><span class="o">(</span><span class="n">Main</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Create</span> <span class="kd">extends</span> <span class="n">AvailableActivity</span> <span class="o">{</span>

    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">StackPane</span> <span class="n">createForm</span><span class="o">;</span>

    <span class="c1">// date formatter</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">DATE_FORMAT</span> <span class="o">=</span> <span class="s">&quot;yyyy-MM-dd&quot;</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">SimpleDateFormat</span> <span class="n">format</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="n">DATE_FORMAT</span><span class="o">);</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">createForm</span><span class="o">.</span><span class="na">getChildren</span><span class="o">().</span><span class="na">add</span><span class="o">(</span>
            <span class="n">gridForm</span><span class="o">(</span><span class="s">&quot;/Application/save&quot;</span><span class="o">).</span><span class="na">method</span><span class="o">(</span><span class="n">Request</span><span class="o">.</span><span class="na">POST</span><span class="o">).</span><span class="na">styleClass</span><span class="o">(</span><span class="s">&quot;grid-form&quot;</span><span class="o">)</span>
                <span class="o">.</span><span class="na">row</span><span class="o">(</span>   <span class="n">label</span><span class="o">(</span><span class="s">&quot;Computer Name:&quot;</span><span class="o">),</span>
                        <span class="n">text</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">),</span>
                        <span class="n">label</span><span class="o">(</span><span class="s">&quot;Required&quot;</span><span class="o">).</span><span class="na">styleClass</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">validationResult</span><span class="o">.</span><span class="na">hasError</span><span class="o">()</span> <span class="o">?</span> <span class="s">&quot;err-text&quot;</span> <span class="o">:</span> <span class="s">&quot;guide-text&quot;</span><span class="o">))</span>
</pre></div>
</div>
</div>
<div class="section" id="list-java">
<h3>List.java<a class="headerlink" href="#list-java" title="Permalink to this headline">¶</a></h3>
<p>クラス名の最初に、CFとついているクラスは、JavaFxが提供しているクラスをより使いやすいようにCreamy FrameWorkでWrapしたものです。</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">package</span> <span class="n">views</span><span class="o">.</span><span class="na">application</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.avaje.ebean.Page</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">creamy.activity.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">creamy.annotation.Template</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">creamy.scene.control.CFHyperlink</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">creamy.scene.control.CFLabel</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">creamy.scene.control.CFLinkButton</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">creamy.scene.control.CFTextField</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">creamy.scene.layout.CFHForm</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.beans.binding.Bindings</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.beans.binding.StringExpression</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.beans.property.SimpleStringProperty</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.beans.property.StringProperty</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.collections.FXCollections</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.collections.ObservableList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.event.ActionEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.event.EventHandler</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.fxml.FXML</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.scene.control.Label</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.scene.control.LabelBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.scene.control.TableColumn</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.scene.control.TableView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.scene.control.cell.PropertyValueFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javafx.scene.input.MouseEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">models.Company</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">models.Computer</span><span class="o">;</span>

<span class="nd">@Template</span><span class="o">(</span><span class="n">Main</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">List</span> <span class="kd">extends</span> <span class="n">AvailableActivity</span> <span class="o">{</span>

    <span class="c1">// Set page title</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">title</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="s">&quot;Computer-Database&quot;</span><span class="o">;</span> <span class="o">}</span>

    <span class="c1">// Table view and columns</span>
    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">TableView</span><span class="o">&lt;</span><span class="n">DispComputer</span><span class="o">&gt;</span> <span class="n">computerTable</span><span class="o">;</span>
    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">TableColumn</span> <span class="n">computerName</span><span class="o">;</span>
    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">TableColumn</span> <span class="n">introduced</span><span class="o">;</span>
    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">TableColumn</span> <span class="n">discontinued</span><span class="o">;</span>
    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">TableColumn</span> <span class="n">company</span><span class="o">;</span>

    <span class="c1">// Hyper links (prev &amp; next)</span>
    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">CFHyperlink</span> <span class="n">prevLink</span><span class="o">;</span>
    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">CFHyperlink</span> <span class="n">nextLink</span><span class="o">;</span>

    <span class="c1">// To create page</span>
    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">CFLinkButton</span> <span class="n">createButton</span><span class="o">;</span>

    <span class="c1">// Search form</span>
    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">CFHForm</span> <span class="n">searchForm</span><span class="o">;</span>
    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">CFTextField</span> <span class="n">filter</span><span class="o">;</span>
    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">CFLabel</span> <span class="n">fromRow</span><span class="o">;</span>

    <span class="nd">@FXML</span> <span class="kd">private</span> <span class="n">CFLabel</span> <span class="n">toRow</span><span class="o">;</span>

    <span class="c1">// Lists of computers</span>
    <span class="kd">private</span> <span class="n">Page</span><span class="o">&lt;</span><span class="n">Computer</span><span class="o">&gt;</span> <span class="n">listComputer</span><span class="o">;</span>

    <span class="c1">// request parameteers</span>
    <span class="kd">private</span> <span class="n">StringProperty</span> <span class="n">order</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">StringProperty</span> <span class="n">sortBy</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">StringProperty</span> <span class="n">query</span><span class="o">;</span>

    <span class="c1">// path for next page</span>
    <span class="kd">private</span> <span class="n">StringProperty</span> <span class="n">currentPage</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">StringExpression</span> <span class="n">path</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// Initialize contorller path</span>
        <span class="n">currentPage</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleStringProperty</span><span class="o">(</span><span class="s">&quot;0&quot;</span><span class="o">);</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">Bindings</span><span class="o">.</span><span class="na">concat</span><span class="o">(</span><span class="s">&quot;/Application/list/&quot;</span><span class="o">,</span> <span class="n">currentPage</span><span class="o">,</span> <span class="s">&quot;/&quot;</span><span class="o">,</span> <span class="n">sortBy</span><span class="o">,</span> <span class="s">&quot;/&quot;</span><span class="o">,</span> <span class="n">order</span><span class="o">);</span>

        <span class="c1">// build table view</span>
        <span class="n">buildTableView</span><span class="o">();</span>

        <span class="c1">// build search form</span>
        <span class="n">searchForm</span><span class="o">.</span><span class="na">addEventFilter</span><span class="o">(</span><span class="n">ActionEvent</span><span class="o">.</span><span class="na">ACTION</span><span class="o">,</span> <span class="k">new</span> <span class="n">EventHandler</span><span class="o">&lt;</span><span class="n">ActionEvent</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">ActionEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">searchForm</span><span class="o">.</span><span class="na">setPath</span><span class="o">(</span><span class="n">path</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">});</span>

        <span class="c1">// build link</span>
        <span class="n">buildLink</span><span class="o">(</span><span class="n">prevLink</span><span class="o">,</span> <span class="n">listComputer</span><span class="o">.</span><span class="na">hasPrev</span><span class="o">(),</span> <span class="n">listComputer</span><span class="o">.</span><span class="na">getPageIndex</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
        <span class="n">buildLink</span><span class="o">(</span><span class="n">nextLink</span><span class="o">,</span> <span class="n">listComputer</span><span class="o">.</span><span class="na">hasNext</span><span class="o">(),</span> <span class="n">listComputer</span><span class="o">.</span><span class="na">getPageIndex</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>

        <span class="c1">// build labels</span>
        <span class="c1">//Integer from = (Integer.valueOf(;</span>
        <span class="n">fromRow</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">listComputer</span><span class="o">.</span><span class="na">getPageIndex</span><span class="o">()</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">1</span><span class="o">));</span>
        <span class="n">toRow</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">listComputer</span><span class="o">.</span><span class="na">getPageIndex</span><span class="o">()</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">10</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">buildTableView</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// data copy from model to display model</span>
        <span class="n">ObservableList</span><span class="o">&lt;</span><span class="n">DispComputer</span><span class="o">&gt;</span> <span class="n">entries</span> <span class="o">=</span> <span class="n">FXCollections</span><span class="o">.</span><span class="na">observableArrayList</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Computer</span> <span class="n">compm</span> <span class="o">:</span> <span class="n">listComputer</span><span class="o">.</span><span class="na">getList</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">entries</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">DispComputer</span><span class="o">(</span><span class="n">compm</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="c1">// Set event handler to tableView</span>
        <span class="c1">// (CLick event of table headers)</span>
        <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">TableColumn</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">columnsMap</span> <span class="o">=</span> <span class="n">buildColumns</span><span class="o">();</span>
        <span class="n">computerTable</span><span class="o">.</span><span class="na">addEventHandler</span><span class="o">(</span><span class="n">MouseEvent</span><span class="o">.</span><span class="na">MOUSE_CLICKED</span><span class="o">,</span> <span class="k">new</span> <span class="n">EventHandler</span><span class="o">&lt;</span><span class="n">MouseEvent</span><span class="o">&gt;()</span> <span class="o">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">ObservableList</span><span class="o">&lt;</span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">DispComputer</span><span class="o">,</span> <span class="o">?&gt;&gt;</span> <span class="n">sortCols</span> <span class="o">=</span> <span class="n">computerTable</span><span class="o">.</span><span class="na">getSortOrder</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">sortCols</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
                    <span class="k">return</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="n">TableColumn</span> <span class="n">sortCol</span> <span class="o">=</span> <span class="n">sortCols</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
                <span class="n">sortBy</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">columnsMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">sortCol</span><span class="o">));</span>
                <span class="n">order</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">sortCol</span><span class="o">.</span><span class="na">getSortType</span><span class="o">()</span> <span class="o">==</span> <span class="n">TableColumn</span><span class="o">.</span><span class="na">SortType</span><span class="o">.</span><span class="na">ASCENDING</span> <span class="o">?</span> <span class="s">&quot;asc&quot;</span> <span class="o">:</span> <span class="s">&quot;desc&quot;</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>

        <span class="c1">// Bind display mode to computer table view</span>
        <span class="n">computerTable</span><span class="o">.</span><span class="na">setItems</span><span class="o">(</span><span class="n">entries</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">// set setCellValueFactory to all column</span>
    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">TableColumn</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">buildColumns</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">TableColumn</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">columnsMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">TableColumn</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="o">{</span>
                <span class="n">put</span><span class="o">(</span><span class="n">computerName</span><span class="o">,</span> <span class="s">&quot;name&quot;</span><span class="o">);</span>
                <span class="n">put</span><span class="o">(</span><span class="n">introduced</span><span class="o">,</span> <span class="s">&quot;introduced&quot;</span><span class="o">);</span>
                <span class="n">put</span><span class="o">(</span><span class="n">discontinued</span><span class="o">,</span> <span class="s">&quot;discontinued&quot;</span><span class="o">);</span>
                <span class="n">put</span><span class="o">(</span><span class="n">company</span><span class="o">,</span> <span class="s">&quot;company&quot;</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">};</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">TableColumn</span> <span class="n">column</span> <span class="o">:</span> <span class="n">columnsMap</span><span class="o">.</span><span class="na">keySet</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">column</span><span class="o">.</span><span class="na">setCellValueFactory</span><span class="o">(</span><span class="k">new</span> <span class="n">PropertyValueFactory</span><span class="o">(</span><span class="n">columnsMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">column</span><span class="o">)));</span>
        <span class="o">}</span>
        <span class="n">computerName</span><span class="o">.</span><span class="na">setComparator</span><span class="o">(</span><span class="k">new</span> <span class="n">CFHyperlink</span><span class="o">.</span><span class="na">Comprator</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">columnsMap</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">buildLink</span><span class="o">(</span><span class="kd">final</span> <span class="n">CFHyperlink</span> <span class="n">link</span><span class="o">,</span> <span class="n">Boolean</span> <span class="n">enabled</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">pageNo</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// set enaabled</span>
        <span class="n">link</span><span class="o">.</span><span class="na">setDisable</span><span class="o">(!</span><span class="n">enabled</span><span class="o">);</span>

        <span class="c1">// set event filter (for dynamic path)</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">enabled</span><span class="o">)</span> <span class="k">return</span><span class="o">;</span>
        <span class="n">link</span><span class="o">.</span><span class="na">addEventFilter</span><span class="o">(</span><span class="n">ActionEvent</span><span class="o">.</span><span class="na">ACTION</span><span class="o">,</span> <span class="k">new</span> <span class="n">EventHandler</span><span class="o">&lt;</span><span class="n">ActionEvent</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">ActionEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">currentPage</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">pageNo</span><span class="o">));</span>
                <span class="n">link</span><span class="o">.</span><span class="na">setPath</span><span class="o">(</span><span class="n">path</span><span class="o">.</span><span class="na">getValue</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span> <span class="o">+</span> <span class="n">query</span><span class="o">.</span><span class="na">get</span><span class="o">());</span>            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>

    <span class="kd">protected</span> <span class="kd">class</span> <span class="nc">DispComputer</span> <span class="o">{</span>

        <span class="kd">private</span> <span class="kd">final</span> <span class="n">SimpleDateFormat</span> <span class="n">formatter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;yyyy-MM-dd&quot;</span><span class="o">);</span>
        <span class="kd">public</span> <span class="n">CFHyperlink</span> <span class="n">name</span><span class="o">;</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="n">introduced</span><span class="o">;</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="n">discontinued</span><span class="o">;</span>
        <span class="kd">public</span> <span class="n">Label</span> <span class="n">company</span><span class="o">;</span>

        <span class="kd">protected</span> <span class="nf">DispComputer</span><span class="o">(</span><span class="n">Computer</span> <span class="n">compm</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">setName</span><span class="o">(</span><span class="n">compm</span><span class="o">);</span>
            <span class="n">setIntroduced</span><span class="o">(</span><span class="n">compm</span><span class="o">.</span><span class="na">getIntroduced</span><span class="o">());</span>
            <span class="n">setDiscontinued</span><span class="o">(</span><span class="n">compm</span><span class="o">.</span><span class="na">getDiscontinued</span><span class="o">());</span>
            <span class="n">setCompany</span><span class="o">(</span><span class="n">compm</span><span class="o">.</span><span class="na">getCompany</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="nf">getDiscontinued</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">discontinued</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setDiscontinued</span><span class="o">(</span><span class="n">String</span> <span class="n">discontinued</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">discontinued</span> <span class="o">=</span> <span class="n">discontinued</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="nf">getIntroduced</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">introduced</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setIntroduced</span><span class="o">(</span><span class="n">String</span> <span class="n">introduced</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">introduced</span> <span class="o">=</span> <span class="n">introduced</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="n">CFHyperlink</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">CFHyperlink</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">private</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">Computer</span> <span class="n">compm</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">hyperlink</span><span class="o">(</span><span class="s">&quot;/Application/edit/&quot;</span> <span class="o">+</span> <span class="n">compm</span><span class="o">.</span><span class="na">getId</span><span class="o">().</span><span class="na">toString</span><span class="o">())</span>
                        <span class="o">.</span><span class="na">text</span><span class="o">(</span><span class="n">compm</span><span class="o">.</span><span class="na">getName</span><span class="o">()).</span><span class="na">styleClass</span><span class="o">(</span><span class="s">&quot;link-regurar&quot;</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="kd">private</span> <span class="kt">void</span> <span class="nf">setIntroduced</span><span class="o">(</span><span class="n">Date</span> <span class="n">introduced</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">introduced</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">introduced</span> <span class="o">=</span> <span class="s">&quot;-&quot;</span><span class="o">;</span>
                <span class="k">return</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">this</span><span class="o">.</span><span class="na">introduced</span> <span class="o">=</span> <span class="n">formatter</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">introduced</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="kd">private</span> <span class="kt">void</span> <span class="nf">setDiscontinued</span><span class="o">(</span><span class="n">Date</span> <span class="n">discontinued</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">discontinued</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">discontinued</span> <span class="o">=</span> <span class="s">&quot;-&quot;</span><span class="o">;</span>
                <span class="k">return</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">this</span><span class="o">.</span><span class="na">discontinued</span> <span class="o">=</span> <span class="n">formatter</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">discontinued</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="n">Label</span> <span class="nf">getCompany</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">company</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">private</span> <span class="kt">void</span> <span class="nf">setCompany</span><span class="o">(</span><span class="n">Company</span> <span class="n">company</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">company</span> <span class="o">=</span> <span class="n">LabelBuilder</span><span class="o">.</span><span class="na">create</span><span class="o">().</span><span class="na">prefHeight</span><span class="o">(</span><span class="mi">25</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">company</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
                <span class="k">this</span><span class="o">.</span><span class="na">company</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;-&quot;</span><span class="o">);</span>
            <span class="k">else</span>
                <span class="k">this</span><span class="o">.</span><span class="na">company</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">company</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="list-vm-fxml">
<h3>List.vm.fxml<a class="headerlink" href="#list-vm-fxml" title="Permalink to this headline">¶</a></h3>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

<span class="cp">&lt;?import java.lang.*?&gt;</span>
<span class="cp">&lt;?import javafx.geometry.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.control.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.layout.*?&gt;</span>
<span class="cp">&lt;?import creamy.scene.control.*?&gt;</span>
<span class="cp">&lt;?import creamy.scene.layout.*?&gt;</span>

<span class="nt">&lt;AnchorPane</span> <span class="na">id=</span><span class="s">&quot;AnchorPane&quot;</span> <span class="na">maxHeight=</span><span class="s">&quot;-Infinity&quot;</span> <span class="na">maxWidth=</span><span class="s">&quot;-Infinity&quot;</span> <span class="na">minHeight=</span><span class="s">&quot;-Infinity&quot;</span> <span class="na">minWidth=</span><span class="s">&quot;-Infinity&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;600.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;1000.0&quot;</span> <span class="na">xmlns:fx=</span><span class="s">&quot;http://javafx.com/fxml&quot;</span> <span class="na">fx:controller=</span><span class="s">&quot;views.application.List&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fx:define&gt;</span>
    <span class="nt">&lt;String</span> <span class="na">fx:id=</span><span class="s">&quot;title&quot;</span> <span class="na">fx:value=</span><span class="s">&quot;Computer-Database&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/fx:define&gt;</span>
  <span class="nt">&lt;children&gt;</span>
    <span class="nt">&lt;GridPane</span> <span class="na">id=</span><span class="s">&quot;gridPane1&quot;</span> <span class="na">AnchorPane.bottomAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.leftAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.rightAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.topAnchor=</span><span class="s">&quot;0.0&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;children&gt;</span>
        <span class="nt">&lt;AnchorPane</span> <span class="na">id=</span><span class="s">&quot;anchorPane1&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;60.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;200.0&quot;</span> <span class="na">GridPane.columnIndex=</span><span class="s">&quot;0&quot;</span> <span class="na">GridPane.halignment=</span><span class="s">&quot;LEFT&quot;</span> <span class="na">GridPane.rowIndex=</span><span class="s">&quot;0&quot;</span> <span class="na">GridPane.valignment=</span><span class="s">&quot;CENTER&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;children&gt;</span>
            <span class="nt">&lt;HBox</span> <span class="na">id=</span><span class="s">&quot;hBox2&quot;</span> <span class="na">alignment=</span><span class="s">&quot;CENTER_LEFT&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;60.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;970.0&quot;</span> <span class="na">spacing=</span><span class="s">&quot;10.0&quot;</span> <span class="na">AnchorPane.bottomAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.leftAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.rightAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.topAnchor=</span><span class="s">&quot;0.0&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;children&gt;</span>
                <span class="nt">&lt;Label</span> <span class="na">id=</span><span class="s">&quot;label1&quot;</span> <span class="na">text=</span><span class="s">&quot;$listComputer.getTotalRowCount()&quot;</span> <span class="na">styleClass=</span><span class="s">&quot;subtitle&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;Label</span> <span class="na">id=</span><span class="s">&quot;label2&quot;</span> <span class="na">text=</span><span class="s">&quot;computers found&quot;</span> <span class="na">styleClass=</span><span class="s">&quot;subtitle&quot;</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/children&gt;</span>
            <span class="nt">&lt;/HBox&gt;</span>
          <span class="nt">&lt;/children&gt;</span>
          <span class="nt">&lt;GridPane.margin&gt;</span>
            <span class="nt">&lt;Insets</span> <span class="na">left=</span><span class="s">&quot;30.0&quot;</span> <span class="na">top=</span><span class="s">&quot;20&quot;</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/GridPane.margin&gt;</span>
        <span class="nt">&lt;/AnchorPane&gt;</span>
        <span class="nt">&lt;AnchorPane</span> <span class="na">id=</span><span class="s">&quot;anchorPane2&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;60.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;200.0&quot;</span> <span class="na">GridPane.columnIndex=</span><span class="s">&quot;0&quot;</span> <span class="na">GridPane.rowIndex=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;children&gt;</span>
            <span class="nt">&lt;GridPane</span> <span class="na">id=</span><span class="s">&quot;gridPane2&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;60.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;960.0&quot;</span> <span class="na">AnchorPane.bottomAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.leftAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.rightAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.topAnchor=</span><span class="s">&quot;0.0&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;children&gt;</span>
                <span class="nt">&lt;HBox</span> <span class="na">id=</span><span class="s">&quot;hBox3&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;60.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;500.0&quot;</span> <span class="na">spacing=</span><span class="s">&quot;10.0&quot;</span> <span class="na">GridPane.columnIndex=</span><span class="s">&quot;0&quot;</span> <span class="na">GridPane.rowIndex=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;children&gt;</span>
                    <span class="nt">&lt;CFHForm</span> <span class="na">fx:id=</span><span class="s">&quot;searchForm&quot;</span> <span class="na">method=</span><span class="s">&quot;GET&quot;</span> <span class="na">spacing=</span><span class="s">&quot;10.0&quot;</span> <span class="na">alignment=</span><span class="s">&quot;CENTER_LEFT&quot;</span> <span class="nt">&gt;</span>
                      <span class="nt">&lt;children&gt;</span>
                        <span class="nt">&lt;CFTextField</span> <span class="na">fx:id=</span><span class="s">&quot;filter&quot;</span> <span class="na">name=</span><span class="s">&quot;filter&quot;</span> <span class="na">promptText=</span><span class="s">&quot;Filter by computer name...&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;200.0&quot;</span><span class="nt">/&gt;</span>
                        <span class="nt">&lt;CFSubmitButton</span> <span class="na">fx:id=</span><span class="s">&quot;filterButton&quot;</span> <span class="na">styleClass=</span><span class="s">&quot;btn-primary&quot;</span> <span class="na">text=</span><span class="s">&quot;Filter by name&quot;</span> <span class="nt">/&gt;</span>
                      <span class="nt">&lt;/children&gt;</span>
                    <span class="nt">&lt;/CFHForm&gt;</span>
                  <span class="nt">&lt;/children&gt;</span>
                  <span class="nt">&lt;GridPane.margin&gt;</span>
                    <span class="nt">&lt;Insets</span> <span class="na">bottom=</span><span class="s">&quot;30.0&quot;</span> <span class="na">top=</span><span class="s">&quot;30.0&quot;</span> <span class="nt">/&gt;</span>
                  <span class="nt">&lt;/GridPane.margin&gt;</span>
                <span class="nt">&lt;/HBox&gt;</span>
                <span class="nt">&lt;CFLinkButton</span> <span class="na">fx:id=</span><span class="s">&quot;createButton&quot;</span> <span class="na">styleClass=</span><span class="s">&quot;btn-success&quot;</span> <span class="na">path=</span><span class="s">&quot;/Application/create&quot;</span> <span class="na">alignment=</span><span class="s">&quot;CENTER_RIGHT&quot;</span> <span class="na">text=</span><span class="s">&quot;Add a new computer&quot;</span> <span class="na">GridPane.columnIndex=</span><span class="s">&quot;1&quot;</span> <span class="na">GridPane.rowIndex=</span><span class="s">&quot;0&quot;</span> <span class="nt">&gt;</span>
                <span class="nt">&lt;/CFLinkButton&gt;</span>
              <span class="nt">&lt;/children&gt;</span>
              <span class="nt">&lt;columnConstraints&gt;</span>
                <span class="nt">&lt;ColumnConstraints</span> <span class="na">hgrow=</span><span class="s">&quot;SOMETIMES&quot;</span> <span class="na">maxWidth=</span><span class="s">&quot;805.0&quot;</span> <span class="na">minWidth=</span><span class="s">&quot;10.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;767.0&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;ColumnConstraints</span> <span class="na">halignment=</span><span class="s">&quot;CENTER&quot;</span> <span class="na">hgrow=</span><span class="s">&quot;SOMETIMES&quot;</span> <span class="na">maxWidth=</span><span class="s">&quot;478.0&quot;</span> <span class="na">minWidth=</span><span class="s">&quot;10.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;193.0&quot;</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/columnConstraints&gt;</span>
              <span class="nt">&lt;rowConstraints&gt;</span>
                <span class="nt">&lt;RowConstraints</span> <span class="na">minHeight=</span><span class="s">&quot;10.0&quot;</span> <span class="na">vgrow=</span><span class="s">&quot;SOMETIMES&quot;</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/rowConstraints&gt;</span>
            <span class="nt">&lt;/GridPane&gt;</span>
          <span class="nt">&lt;/children&gt;</span>
          <span class="nt">&lt;GridPane.margin&gt;</span>
            <span class="nt">&lt;Insets</span> <span class="na">left=</span><span class="s">&quot;40.0&quot;</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/GridPane.margin&gt;</span>
        <span class="nt">&lt;/AnchorPane&gt;</span>
        <span class="nt">&lt;AnchorPane</span> <span class="na">id=</span><span class="s">&quot;anchorPane3&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;300.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;200.0&quot;</span> <span class="na">GridPane.columnIndex=</span><span class="s">&quot;0&quot;</span> <span class="na">GridPane.rowIndex=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;children&gt;</span>
            <span class="nt">&lt;TableView</span> <span class="na">fx:id=</span><span class="s">&quot;computerTable&quot;</span> <span class="na">styleClass=</span><span class="s">&quot;tbl&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;300.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;960.0&quot;</span> <span class="na">AnchorPane.bottomAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.leftAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.rightAnchor=</span><span class="s">&quot;40.0&quot;</span> <span class="na">AnchorPane.topAnchor=</span><span class="s">&quot;0.0&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;columns&gt;</span>
                <span class="nt">&lt;TableColumn</span> <span class="na">fx:id=</span><span class="s">&quot;computerName&quot;</span> <span class="na">text=</span><span class="s">&quot;Computer name&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;338.0&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;TableColumn</span> <span class="na">fx:id=</span><span class="s">&quot;introduced&quot;</span>   <span class="na">text=</span><span class="s">&quot;Introduced&quot;</span>    <span class="na">prefWidth=</span><span class="s">&quot;180.0&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;TableColumn</span> <span class="na">fx:id=</span><span class="s">&quot;discontinued&quot;</span> <span class="na">text=</span><span class="s">&quot;Discontinued&quot;</span>  <span class="na">prefWidth=</span><span class="s">&quot;180.0&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;TableColumn</span> <span class="na">fx:id=</span><span class="s">&quot;company&quot;</span>      <span class="na">text=</span><span class="s">&quot;Company&quot;</span>       <span class="na">prefWidth=</span><span class="s">&quot;220.0&quot;</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/columns&gt;</span>
            <span class="nt">&lt;/TableView&gt;</span>
          <span class="nt">&lt;/children&gt;</span>
          <span class="nt">&lt;GridPane.margin&gt;</span>
            <span class="nt">&lt;Insets</span> <span class="na">left=</span><span class="s">&quot;40.0&quot;</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/GridPane.margin&gt;</span>
        <span class="nt">&lt;/AnchorPane&gt;</span>
        <span class="nt">&lt;AnchorPane</span> <span class="na">id=</span><span class="s">&quot;anchorPane4&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;60.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;200.0&quot;</span> <span class="na">GridPane.columnIndex=</span><span class="s">&quot;0&quot;</span> <span class="na">GridPane.rowIndex=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;children&gt;</span>
            <span class="nt">&lt;GridPane</span> <span class="na">id=</span><span class="s">&quot;gridPane3&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;60.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;353.0&quot;</span> <span class="na">AnchorPane.bottomAnchor=</span><span class="s">&quot;0.0&quot;</span> <span class="na">AnchorPane.rightAnchor=</span><span class="s">&quot;40.0&quot;</span> <span class="na">AnchorPane.topAnchor=</span><span class="s">&quot;0.0&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;children&gt;</span>
                <span class="nt">&lt;CFHyperlink</span> <span class="na">fx:id=</span><span class="s">&quot;prevLink&quot;</span> <span class="na">text=</span><span class="s">&quot;←Previous&quot;</span> <span class="na">styleClass=</span><span class="s">&quot;link-regurar&quot;</span> <span class="na">GridPane.columnIndex=</span><span class="s">&quot;0&quot;</span> <span class="na">GridPane.rowIndex=</span><span class="s">&quot;0&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;CFHyperlink</span> <span class="na">fx:id=</span><span class="s">&quot;nextLink&quot;</span> <span class="na">text=</span><span class="s">&quot;Next→&quot;</span> <span class="na">styleClass=</span><span class="s">&quot;link-regurar&quot;</span> <span class="na">GridPane.columnIndex=</span><span class="s">&quot;2&quot;</span> <span class="na">GridPane.rowIndex=</span><span class="s">&quot;0&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;HBox</span> <span class="na">id=</span><span class="s">&quot;hBox1&quot;</span> <span class="na">alignment=</span><span class="s">&quot;CENTER&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;50.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;187.0&quot;</span> <span class="na">spacing=</span><span class="s">&quot;5.0&quot;</span> <span class="na">GridPane.columnIndex=</span><span class="s">&quot;1&quot;</span> <span class="na">GridPane.rowIndex=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;children&gt;</span>
                    <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;Displaying&quot;</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;CFLabel</span> <span class="na">fx:id=</span><span class="s">&quot;fromRow&quot;</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;to&quot;</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;CFLabel</span> <span class="na">fx:id=</span><span class="s">&quot;toRow&quot;</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;of&quot;</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;$listComputer.getTotalRowCount()&quot;</span> <span class="nt">/&gt;</span>
                  <span class="nt">&lt;/children&gt;</span>
                <span class="nt">&lt;/HBox&gt;</span>
              <span class="nt">&lt;/children&gt;</span>
              <span class="nt">&lt;columnConstraints&gt;</span>
                <span class="nt">&lt;ColumnConstraints</span> <span class="na">halignment=</span><span class="s">&quot;RIGHT&quot;</span> <span class="na">hgrow=</span><span class="s">&quot;SOMETIMES&quot;</span> <span class="na">maxWidth=</span><span class="s">&quot;130.0&quot;</span> <span class="na">minWidth=</span><span class="s">&quot;10.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;79.0&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;ColumnConstraints</span> <span class="na">hgrow=</span><span class="s">&quot;SOMETIMES&quot;</span> <span class="na">maxWidth=</span><span class="s">&quot;248.0&quot;</span> <span class="na">minWidth=</span><span class="s">&quot;10.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;219.0&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;ColumnConstraints</span> <span class="na">halignment=</span><span class="s">&quot;LEFT&quot;</span> <span class="na">hgrow=</span><span class="s">&quot;SOMETIMES&quot;</span> <span class="na">maxWidth=</span><span class="s">&quot;50.0&quot;</span> <span class="na">minWidth=</span><span class="s">&quot;10.0&quot;</span> <span class="na">prefWidth=</span><span class="s">&quot;50.0&quot;</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/columnConstraints&gt;</span>
              <span class="nt">&lt;rowConstraints&gt;</span>
                <span class="nt">&lt;RowConstraints</span> <span class="na">minHeight=</span><span class="s">&quot;10.0&quot;</span> <span class="na">vgrow=</span><span class="s">&quot;SOMETIMES&quot;</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/rowConstraints&gt;</span>
            <span class="nt">&lt;/GridPane&gt;</span>
          <span class="nt">&lt;/children&gt;</span>
        <span class="nt">&lt;/AnchorPane&gt;</span>
      <span class="nt">&lt;/children&gt;</span>
      <span class="nt">&lt;columnConstraints&gt;</span>
        <span class="nt">&lt;ColumnConstraints</span> <span class="na">hgrow=</span><span class="s">&quot;SOMETIMES&quot;</span> <span class="na">minWidth=</span><span class="s">&quot;10.0&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/columnConstraints&gt;</span>
      <span class="nt">&lt;rowConstraints&gt;</span>
        <span class="nt">&lt;RowConstraints</span> <span class="na">maxHeight=</span><span class="s">&quot;60.0&quot;</span>  <span class="na">minHeight=</span><span class="s">&quot;10.0&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;60.0&quot;</span>  <span class="na">vgrow=</span><span class="s">&quot;SOMETIMES&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;RowConstraints</span> <span class="na">maxHeight=</span><span class="s">&quot;60.0&quot;</span>  <span class="na">minHeight=</span><span class="s">&quot;10.0&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;60.0&quot;</span>  <span class="na">valignment=</span><span class="s">&quot;TOP&quot;</span> <span class="na">vgrow=</span><span class="s">&quot;SOMETIMES&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;RowConstraints</span> <span class="na">maxHeight=</span><span class="s">&quot;345.0&quot;</span> <span class="na">minHeight=</span><span class="s">&quot;10.0&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;345.0&quot;</span> <span class="na">valignment=</span><span class="s">&quot;TOP&quot;</span> <span class="na">vgrow=</span><span class="s">&quot;SOMETIMES&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;RowConstraints</span> <span class="na">maxHeight=</span><span class="s">&quot;60.0&quot;</span>  <span class="na">minHeight=</span><span class="s">&quot;10.0&quot;</span> <span class="na">prefHeight=</span><span class="s">&quot;60.0&quot;</span>  <span class="na">valignment=</span><span class="s">&quot;TOP&quot;</span> <span class="na">vgrow=</span><span class="s">&quot;SOMETIMES&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/rowConstraints&gt;</span>
    <span class="nt">&lt;/GridPane&gt;</span>
  <span class="nt">&lt;/children&gt;</span>
<span class="nt">&lt;/AnchorPane&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="model">
<h2>Modelの書き方<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h2>
<p>Modelは、ebeanをCreamy用にWrapした、creamy.db.Modelクラスを継承してください。
そうする事で、ebeanで利用できる、O/Rマッパーの機能を利用する事ができます。</p>
<p>アノテーションも、利用できます。</p>
<div class="section" id="computer-java">
<h3>Computer.java<a class="headerlink" href="#computer-java" title="Permalink to this headline">¶</a></h3>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">package</span> <span class="n">models</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.avaje.ebean.Page</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">creamy.db.Model</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.ParseException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.Id</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.ManyToOne</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.Temporal</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.validation.constraints.NotNull</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.validation.constraints.Pattern</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Computer entity managed by Ebean</span>
<span class="cm"> */</span>

<span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Computer</span> <span class="kd">extends</span> <span class="n">Model</span> <span class="o">{</span>

    <span class="nd">@Id</span>
    <span class="kd">private</span> <span class="n">Integer</span> <span class="n">id</span><span class="o">;</span>

    <span class="nd">@Pattern</span><span class="o">(</span><span class="n">regexp</span> <span class="o">=</span> <span class="s">&quot;[.]+&quot;</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="nd">@NotNull</span>
    <span class="nd">@Temporal</span><span class="o">(</span><span class="n">javax</span><span class="o">.</span><span class="na">persistence</span><span class="o">.</span><span class="na">TemporalType</span><span class="o">.</span><span class="na">DATE</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">Date</span> <span class="n">introduced</span><span class="o">;</span>

    <span class="nd">@NotNull</span>
    <span class="nd">@Temporal</span><span class="o">(</span><span class="n">javax</span><span class="o">.</span><span class="na">persistence</span><span class="o">.</span><span class="na">TemporalType</span><span class="o">.</span><span class="na">DATE</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">Date</span> <span class="n">discontinued</span><span class="o">;</span>

    <span class="nd">@ManyToOne</span>
    <span class="kd">private</span> <span class="n">Company</span> <span class="n">company</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">DATE_FORMAT</span> <span class="o">=</span> <span class="s">&quot;yyyy-MM-dd&quot;</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="n">SimpleDateFormat</span> <span class="n">dateFormatter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="n">DATE_FORMAT</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="n">Integer</span> <span class="n">id</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="n">Integer</span> <span class="nf">getId</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setIntroduced</span><span class="o">(</span><span class="n">Date</span> <span class="n">introduced</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">introduced</span> <span class="o">=</span> <span class="n">introduced</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="c1">// Convert from String to Date</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setIntroduced</span><span class="o">(</span><span class="n">String</span> <span class="n">introduced</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">introduced</span> <span class="o">=</span> <span class="n">dateFormatter</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">introduced</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ParseException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">introduced</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="n">Date</span> <span class="nf">getIntroduced</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">introduced</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setDiscontinued</span><span class="o">(</span><span class="n">Date</span> <span class="n">discontinued</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">discontinued</span> <span class="o">=</span> <span class="n">discontinued</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="c1">// Convert from String to Date</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setDiscontinued</span><span class="o">(</span><span class="n">String</span> <span class="n">discontinued</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">discontinued</span> <span class="o">=</span> <span class="n">dateFormatter</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">discontinued</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ParseException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">discontinued</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="n">Date</span> <span class="nf">getDiscontinued</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">discontinued</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCompany</span><span class="o">(</span><span class="n">Company</span> <span class="n">company</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">company</span> <span class="o">=</span> <span class="n">company</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="n">Company</span> <span class="nf">getCompany</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">company</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="cm">/**</span>
<span class="cm">     * Generic query helper for entity Computer with id Long</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Finder</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Computer</span><span class="o">&gt;</span> <span class="n">find</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Finder</span><span class="o">&lt;&gt;(</span><span class="n">Integer</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">Computer</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="cm">/**</span>
<span class="cm">     * Return a page of computer</span>
<span class="cm">     *</span>
<span class="cm">     * @param page Page to display</span>
<span class="cm">     * @param pageSize Number of computers per page</span>
<span class="cm">     * @param sortBy Computer property used for sorting</span>
<span class="cm">     * @param order Sort order (either or asc or desc)</span>
<span class="cm">     * @param filter Filter applied on the name column</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Page</span><span class="o">&lt;</span><span class="n">Computer</span><span class="o">&gt;</span> <span class="nf">page</span><span class="o">(</span><span class="kt">int</span> <span class="n">page</span><span class="o">,</span> <span class="kt">int</span> <span class="n">pageSize</span><span class="o">,</span> <span class="n">String</span> <span class="n">sortBy</span><span class="o">,</span> <span class="n">String</span> <span class="n">order</span><span class="o">,</span> <span class="n">String</span> <span class="n">filter</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span>
            <span class="n">find</span><span class="o">.</span><span class="na">where</span><span class="o">()</span>
                <span class="o">.</span><span class="na">ilike</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">,</span> <span class="s">&quot;%&quot;</span> <span class="o">+</span> <span class="n">filter</span> <span class="o">+</span> <span class="s">&quot;%&quot;</span><span class="o">)</span>
                <span class="o">.</span><span class="na">orderBy</span><span class="o">(</span><span class="n">sortBy</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="n">order</span><span class="o">)</span>
                <span class="o">.</span><span class="na">fetch</span><span class="o">(</span><span class="s">&quot;company&quot;</span><span class="o">)</span>
                <span class="o">.</span><span class="na">findPagingList</span><span class="o">(</span><span class="n">pageSize</span><span class="o">)</span>
                <span class="o">.</span><span class="na">getPage</span><span class="o">(</span><span class="n">page</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="download">
<h2>Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h2>
<p>こちらに、ComputerDabaseのサンプルプログラムが、NetBeansプロジェクトとともに置いてあります。
解凍して、そのままご利用できます。
<a class="reference external" href="http://example.com/download/computer_database.zip">http://example.com/download/computer_database.zip</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Creamy 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, 2012 AIIT Akiguchi PBL.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>